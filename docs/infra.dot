```mermaid
graph TD
    Client([Client])

    MainQueue[[MainQueue<br>(SQS Standard Queue)]]
    DeadLetterQueue[[Dead Letter Queue<br>(DLQ, 3-day retention)]]
    MessageProcessorFunction[[Message Processor Function<br>(Java 17, 512MB, 60s)]]
    MessageRedriveFunction[[Message Redrive Function<br>(Java 17, 512MB, 60s)]]
    DLQMessageAlarm[[DLQMessageAlarm<br>(CloudWatch Alarm)]]
    DLQAlarmSNSTopic[[DLQAlarm SNSTopic<br>(SNS Topic)]]

    Client -->|Send Message| MainQueue
    MainQueue -->|Poll & Process Message| MessageProcessorFunction
    MainQueue -->|Move to DLQ after 3 failed attempts| DeadLetterQueue
    DeadLetterQueue -->|Monitor ApproximateAgeOfOldestMessage > Threshold (300 sec)| DLQMessageAlarm
    DLQMessageAlarm -->|Publish Alarm Notification| DLQAlarmSNSTopic
    DLQAlarmSNSTopic -->|Invoke Lambda| MessageRedriveFunction
    MessageProcessorFunction -->|Delete Message on Success| MainQueue
    MessageProcessorFunction -->|Retry on Failure (Up to 3 times)| MainQueue
    MessageRedriveFunction -->|Poll & Read Failed Messages| DeadLetterQueue
    MessageRedriveFunction -->|Redrive Messages| MainQueue
